/**
 * Local Exercise Images Mapping
 * Maps exercise names to local 3D image paths
 * Supports both Portuguese and English names
 */

export const LOCAL_EXERCISE_IMAGES: Record<string, string> = {
    // --- Peito / Chest ---
    'Supino': '/exercises/bench-press.png',
    'Bench Press': '/exercises/bench-press.png',
    'Barbell Bench Press': '/exercises/bench-press.png',
    'Incline': '/exercises/incline-bench.png',
    'Inclinado': '/exercises/incline-bench.png',
    'Incline Bench Press': '/exercises/incline-bench.png',
    'Declinado': '/exercises/bench-press.png',
    'Decline': '/exercises/bench-press.png',
    'Decline Bench Press': '/exercises/bench-press.png',
    'Flexão': '/exercises/push-up.png',
    'Push-up': '/exercises/push-up.png',
    'Push up': '/exercises/push-up.png',
    'Pushup': '/exercises/push-up.png',
    'Voador': '/exercises/chest-fly.png',
    'Fly': '/exercises/chest-fly.png',
    'Flyes': '/exercises/chest-fly.png',
    'Crucifixo': '/exercises/chest-fly.png',
    'Paralelas': '/exercises/dips.png',
    'Dips': '/exercises/dips.png',
    'Mergulho': '/exercises/dips.png',

    // --- Costas / Back ---
    'Barra Fixa': '/exercises/pull-up.png',
    'Pull-up': '/exercises/pull-up.png',
    'Pull up': '/exercises/pull-up.png',
    'Pullup': '/exercises/pull-up.png',
    'Chin-up': '/exercises/pull-up.png',
    'Puxada': '/exercises/lat-pulldown.png',
    'Pulldown': '/exercises/lat-pulldown.png',
    'Lat Pulldown': '/exercises/lat-pulldown.png',
    'Remada Curvada': '/exercises/bent-over-row.png',
    'Bent Over Row': '/exercises/bent-over-row.png',
    'Bent-Over': '/exercises/bent-over-row.png',
    'Barbell Row': '/exercises/bent-over-row.png',
    'Remada Baixa': '/exercises/seated-row.png',
    'Remada Sentada': '/exercises/seated-row.png',
    'Seated Row': '/exercises/seated-row.png',
    'Cable Row': '/exercises/seated-row.png',
    'Serrote': '/exercises/dumbbell-row.png',
    'Remada Unilateral': '/exercises/dumbbell-row.png',
    'Dumbbell Row': '/exercises/dumbbell-row.png',
    'One-Arm Row': '/exercises/dumbbell-row.png',

    // --- Pernas (Coxa/Glúteo) / Legs (Quads/Glutes) ---
    'Agachamento': '/exercises/squat.png',
    'Squat': '/exercises/squat.png',
    'Back Squat': '/exercises/squat.png',
    'Leg Press': '/exercises/leg-press.png',
    'Passada': '/exercises/lunges.png',
    'Afundo': '/exercises/lunges.png',
    'Lunge': '/exercises/lunges.png',
    'Lunges': '/exercises/lunges.png',
    'Extensora': '/exercises/leg-extension.png',
    'Leg Extension': '/exercises/leg-extension.png',
    'Búlgaro': '/exercises/bulgarian-squat.png',
    'Bulgarian': '/exercises/bulgarian-squat.png',
    'Split Squat': '/exercises/bulgarian-squat.png',

    // --- Pernas (Posterior) / Legs (Hamstrings) ---
    'Levantamento Terra': '/exercises/deadlift.png',
    'Deadlift': '/exercises/deadlift.png',
    'Stiff': '/exercises/stiff-deadlift.png',
    'Romanian Deadlift': '/exercises/stiff-deadlift.png',
    'RDL': '/exercises/stiff-deadlift.png',
    'Flexora': '/exercises/leg-curl.png',
    'Leg Curl': '/exercises/leg-curl.png',
    'Hamstring Curl': '/exercises/leg-curl.png',

    // --- Ombros / Shoulders ---
    'Desenvolvimento': '/exercises/shoulder-press.png',
    'Shoulder Press': '/exercises/shoulder-press.png',
    'Military Press': '/exercises/shoulder-press.png',
    'Overhead Press': '/exercises/shoulder-press.png',
    'Elevação Lateral': '/exercises/lateral-raise.png',
    'Lateral Raise': '/exercises/lateral-raise.png',
    'Side Raise': '/exercises/lateral-raise.png',
    'Elevação Frontal': '/exercises/front-raise.png',
    'Front Raise': '/exercises/front-raise.png',
    'Crucifixo Inverso': '/exercises/reverse-fly.png',
    'Reverse Fly': '/exercises/reverse-fly.png',
    'Reverse Flyes': '/exercises/reverse-fly.png',
    'Rear Delt': '/exercises/reverse-fly.png',

    // --- Braços / Arms ---
    'Rosca Direta': '/exercises/bicep-curl.png',
    'Rosca': '/exercises/bicep-curl.png',
    'Bicep Curl': '/exercises/bicep-curl.png',
    'Barbell Curl': '/exercises/bicep-curl.png',
    'Curl': '/exercises/bicep-curl.png',
    'Rosca Martelo': '/exercises/hammer-curl.png',
    'Martelo': '/exercises/hammer-curl.png',
    'Hammer Curl': '/exercises/hammer-curl.png',
    'Tríceps Corda': '/exercises/tricep-pushdown.png',
    'Tríceps Pulley': '/exercises/tricep-pushdown.png',
    'Tricep Pushdown': '/exercises/tricep-pushdown.png',
    'Triceps Pushdown': '/exercises/tricep-pushdown.png',
    'Pushdown': '/exercises/tricep-pushdown.png',
    'Tríceps Testa': '/exercises/skullcrushers.png',
    'Skullcrusher': '/exercises/skullcrushers.png',
    'Skull Crusher': '/exercises/skullcrushers.png',
    'Lying Triceps': '/exercises/skullcrushers.png',

    // --- Abs / Core ---
    'Prancha': '/exercises/plank.png',
    'Plank': '/exercises/plank.png',
    'Abdominal Supra': '/exercises/crunch.png',
    'Abdominal': '/exercises/crunch.png',
    'Crunch': '/exercises/crunch.png',
    'Crunches': '/exercises/crunch.png',
    'Elevação de Pernas': '/exercises/leg-raise.png',
    'Leg Raise': '/exercises/leg-raise.png',
    'Infra': '/exercises/leg-raise.png',
    'Remador': '/exercises/v-up.png',
    'V-Up': '/exercises/v-up.png',
    'V Up': '/exercises/v-up.png',

    // === NOVOS: CARDIO/AERÓBICO (Português + Inglês) ===

    // --- Máquinas Indoor ---
    'Esteira': '/exercises/treadmill.png',
    'Treadmill': '/exercises/treadmill.png',
    'Running': '/exercises/treadmill.png',
    'Corrida': '/exercises/treadmill.png',

    'Bicicleta': '/exercises/stationary-bike.png',
    'Bike': '/exercises/stationary-bike.png',
    'Cycling': '/exercises/stationary-bike.png',
    'Ergométrica': '/exercises/stationary-bike.png',
    'Spinning': '/exercises/stationary-bike.png',

    'Elíptico': '/exercises/elliptical.png',
    'Elliptical': '/exercises/elliptical.png',
    'Transport': '/exercises/elliptical.png',

    'Simulador de Escada': '/exercises/stair-climber.png',
    'Stair': '/exercises/stair-climber.png',
    'Escada': '/exercises/stair-climber.png',
    'Climber': '/exercises/stair-climber.png',

    'Remo': '/exercises/rowing-machine.png',
    'Rowing': '/exercises/rowing-machine.png',
    'Rower': '/exercises/rowing-machine.png',

    // --- Cardio Peso do Corpo ---
    'Pular Corda': '/exercises/jump-rope.png',
    'Jump Rope': '/exercises/jump-rope.png',
    'Rope': '/exercises/jump-rope.png',

    'Polichinelo': '/exercises/jumping-jacks.png',
    'Jumping Jack': '/exercises/jumping-jacks.png',

    'Burpee': '/exercises/burpees.png',
    // Burpee is same in English

    'Mountain Climber': '/exercises/mountain-climbers.png',
    'Escalador': '/exercises/mountain-climbers.png',

    'Corrida Estacionária': '/exercises/high-knees.png',
    'High Knees': '/exercises/high-knees.png',
    'Joelho Alto': '/exercises/high-knees.png',

    // --- Outdoor ---
    'Corrida de Rua': '/exercises/outdoor-run.png',
    'Running Outdoor': '/exercises/outdoor-run.png',
    'Corrida ao Ar Livre': '/exercises/outdoor-run.png',

    'Caminhada': '/exercises/walking.png',
    'Walking': '/exercises/walking.png',

    'Natação': '/exercises/swimming.png',
    'Swimming': '/exercises/swimming.png',
    'Nado': '/exercises/swimming.png',

    'Ciclismo': '/exercises/outdoor-cycling.png',
    'Bicicleta de Estrada': '/exercises/outdoor-cycling.png',

    // === NOVOS COMPLEMENTARES (10 novas imagens 3D) ===

    // --- Glúteos & Panturrilha ---
    'Elevação Pélvica': '/exercises/hip-thrust.png',
    'Hip Thrust': '/exercises/hip-thrust.png',
    'Ponte': '/exercises/hip-thrust.png',
    'Coice': '/exercises/glute-kickback.png',
    'Glute Kickback': '/exercises/glute-kickback.png',
    'Glúteo Cabo': '/exercises/glute-kickback.png',
    'Panturrilha': '/exercises/calf-raise.png',
    'Gêmeos': '/exercises/calf-raise.png',
    'Elevação de Panturrilha': '/exercises/calf-raise.png',
    'Calf Raise': '/exercises/calf-raise.png',

    // --- Core Avançado ---
    'Abdominal Bicicleta': '/exercises/bicycle-crunch.png',
    'Bicicleta no Chão': '/exercises/bicycle-crunch.png',
    'Bicycle Crunch': '/exercises/bicycle-crunch.png',
    'Prancha Lateral': '/exercises/side-plank.png',
    'Side Plank': '/exercises/side-plank.png',
    'Russian Twist': '/exercises/russian-twist.png',
    'Rotação de Tronco': '/exercises/russian-twist.png',
    'Torção Russa': '/exercises/russian-twist.png',

    // --- Postura & Lombar ---
    'Face Pull': '/exercises/face-pull.png',
    'Puxada na Face': '/exercises/face-pull.png',
    'Encolhimento': '/exercises/shrugs.png',
    'Trapézio': '/exercises/shrugs.png',
    'Shrugs': '/exercises/shrugs.png',
    'Super-Homem': '/exercises/superman.png',
    'Superman': '/exercises/superman.png',
    'Extensão Lombar': '/exercises/superman.png',
    'Hiperextensão': '/exercises/superman.png',
    'Lombar': '/exercises/superman.png',

    // --- Funcional ---
    'Kettlebell Swing': '/exercises/kettlebell-swing.png',
    'Swing': '/exercises/kettlebell-swing.png',
    'KB Swing': '/exercises/kettlebell-swing.png',

    // === NOVOS EXERCÍCIOS FINAIS (Máquinas e Isoladores) ===

    // --- Pernas (Máquinas) ---
    'Abdutora': '/exercises/abductor-machine.png',
    'Cadeira Abdutora': '/exercises/abductor-machine.png',
    'Adutora': '/exercises/adductor-machine.png',
    'Cadeira Adutora': '/exercises/adductor-machine.png',
    'Hack': '/exercises/hack-squat.png',
    'Agachamento Hack': '/exercises/hack-squat.png',

    // --- Tronco & Costas ---
    'Pullover': '/exercises/pullover.png',
    'Remada Cavalinho': '/exercises/t-bar-row.png',
    'Barra T': '/exercises/t-bar-row.png',

    // --- Braços & Ombros ---
    'Rosca Concentrada': '/exercises/concentration-curl.png',
    'Concentrada': '/exercises/concentration-curl.png',
    'Tríceps Francês': '/exercises/overhead-tricep.png',
    'Francês': '/exercises/overhead-tricep.png',
    'Desenvolvimento Arnold': '/exercises/arnold-press.png',
    'Arnold': '/exercises/arnold-press.png',

    // --- Core Avançado ---
    'Infra na Barra': '/exercises/hanging-leg-raise.png',
    'Elevação de Pernas na Barra': '/exercises/hanging-leg-raise.png',
};

/**
 * Check if an exercise has a local image with fuzzy matching
 */
export function getLocalExerciseImage(exerciseName: string): string | null {
    const normalizedName = exerciseName.toLowerCase().trim();

    // Try exact match first
    for (const [key, path] of Object.entries(LOCAL_EXERCISE_IMAGES)) {
        if (normalizedName === key.toLowerCase()) {
            console.log(`✅ [local-exercises] Exact match: "${exerciseName}" → ${path}`);
            return path;
        }
    }

    // Try partial match - check if exercise name contains the key
    for (const [key, path] of Object.entries(LOCAL_EXERCISE_IMAGES)) {
        const normalizedKey = key.toLowerCase();
        if (normalizedName.includes(normalizedKey)) {
            console.log(`✅ [local-exercises] Partial match: "${exerciseName}" contains "${key}" → ${path}`);
            return path;
        }
    }

    // Try reverse partial match - check if key contains the exercise name
    for (const [key, path] of Object.entries(LOCAL_EXERCISE_IMAGES)) {
        const normalizedKey = key.toLowerCase();
        if (normalizedKey.includes(normalizedName)) {
            console.log(`✅ [local-exercises] Reverse match: "${key}" contains "${exerciseName}" → ${path}`);
            return path;
        }
    }

    // Try word-by-word matching for compound names
    const exerciseWords = normalizedName.split(/\s+/);
    for (const [key, path] of Object.entries(LOCAL_EXERCISE_IMAGES)) {
        const keyWords = key.toLowerCase().split(/\s+/);
        const matchingWords = exerciseWords.filter(word =>
            keyWords.some(keyWord => keyWord.includes(word) || word.includes(keyWord))
        );

        // If at least half of the words match, consider it a match
        if (matchingWords.length >= Math.min(exerciseWords.length, keyWords.length) / 2) {
            console.log(`✅ [local-exercises] Word match: "${exerciseName}" ≈ "${key}" → ${path}`);
            return path;
        }
    }

    console.log(`❌ [local-exercises] No match for: "${exerciseName}"`);
    return null;
}

